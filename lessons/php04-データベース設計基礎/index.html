<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="modulepreload" href="/gs-textbook-php/assets/manifest-94717049.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/entry.client-DtWayQEr.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/root-ChSc94-u.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/entry.client-DtWayQEr.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/lessons._slug-0zrPKnYr.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/mermaid-vendor-CpAEI21m.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/lessons-BdiUGkJ5.js"/><meta name="robots" content="noindex"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><title>Lessons</title><meta name="robots" content="index,follow"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="icon" href="https://g-s.dev/uploads/cropped-g-s_fabicon-2-32x32.png" sizes="32x32"/><link rel="icon" href="https://g-s.dev/uploads/cropped-g-s_fabicon-2-192x192.png" sizes="192x192"/><link rel="apple-touch-icon" href="https://g-s.dev/uploads/cropped-g-s_fabicon-2-180x180.png"/><link href="https://fonts.googleapis.com/css2?family=M+PLUS+1p:wght@100;300;400;500;700;800;900&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="/gs-textbook-php/assets/root-Cj4fzsib.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&amp;display=swap"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"/><script>
              window.Prism = window.Prism || {};
              window.Prism.manual = true;
            </script></head><body style="font-family:&#x27;M PLUS 1p&#x27;"><div class="relative from-slate-200 bg-gradient-to-b to-slate-300"><div class="grid transition-all duration-300 ease-in-out" style="grid-template-columns:280px 1fr"><aside class="h-screen sticky top-0 transition-all duration-300 ease-in-out w-[280px] pr-4 overflow-hidden border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-slate-800 px-4"><div class="py-2"><div class="flex items-center justify-between mb-3"><h2 class="text-sm font-semibold transition-opacity duration-300 ease-in-out opacity-100">授業資料一覧</h2><button class="p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors duration-200" title="折りたたみ"><svg class="w-4 h-4 transform transition-transform duration-300 ease-in-out" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button></div><div class="mb-3 px-2"><button class="flex items-center gap-2 w-full text-xs text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors duration-200 py-2 px-2 rounded hover:bg-slate-100 dark:hover:bg-slate-700" title="全て開く"><svg class="w-3 h-3 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg><span>全て開く</span></button></div><nav class="space-y-1 transition-opacity duration-300 ease-in-out opacity-100"></nav></div></aside><main class="prose dark:prose-invert max-w-none bg-white dark:bg-slate-800 rounded w-5xl p-12 my-4 
  mx-auto"><div class="relative"><div style="display:block"><h1 class="text-3xl font-extrabold mb-4 text-slate-900 dark:text-slate-100 border-b border-slate-200 dark:border-slate-700 pb-2">#04 PHP - データベース設計基礎</h1>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">今回のゴール</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">データモデリング、ER図、正規化の基礎を理解し、適切なテーブル設計ができるようになる</li>
<li class="relative ml-2">INNER JOINを使って、複数テーブルからデータを取得できるようになる</li>
</ul></div></details>
<div class="my-6 p-4 rounded-lg border bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-gray-800 dark:text-gray-200">配布コード</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">zipファイルをダウンロード後に展開し、XAMPPの<code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">htdocs</code>フォルダに配置してください！</p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">講義内資料: <a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="../../zip/php04.zip">php04.zip</a></li>
</ul></div></div></div>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">授業前準備</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">1. XAMPP起動</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">Windows</strong>: Apache と MySQL が緑色になっていればOK</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">Mac</strong>: MySQL Database と Apache Web Server が &quot;Running&quot; になっていればOK</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">2. ファイル配置</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">Windows</strong>: <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">C:/XAMPP/htdocs/php04/</code></li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">Mac</strong>: <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">/Applications/XAMPP/htdocs/php04/</code></li>
</ul></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">draw.io（diagrams.net）の準備</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">draw.ioとは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">draw.io</strong>（diagrams.net）は、無料で使える多機能なダイアグラム作成ツール</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">作成できる図の種類：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">フローチャート</li>
<li class="relative ml-2">プロセス図</li>
<li class="relative ml-2">組織図</li>
<li class="relative ml-2">UML図</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">ER図（エンティティ・リレーションシップ図）</strong></li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">利用方法：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">Webベースで利用可能</li>
<li class="relative ml-2">デスクトップアプリケーション</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">Visual Studio Code の拡張機能</strong>（今回はこれを使用）</li>
</ul></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">主なER図作成サービスとその比較</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-6 "><div class="infographic-content"><div class="space-y-4"><div class="p-4 bg-blue-50 rounded border border-blue-200"><div class="font-medium text-blue-800 mb-2">draw.io / diagrams.net</div><div class="text-sm text-blue-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>利点:</strong> 無料でアクセスしやすく、直感的な操作が可能。豊富なテンプレートとクラウド統合機能<br/>
<strong>欠点:</strong> 専門的なデータモデリング機能には限りがある</p></div></div><div class="p-4 bg-green-50 rounded border border-green-200"><div class="font-medium text-green-800 mb-2">Lucidchart</div><div class="text-sm text-green-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>利点:</strong> 直感的なインターフェースと豊富な機能。リアルタイムでの共同編集<br/>
<strong>欠点:</strong> 無料版には機能制限があり、フル機能には有料プランが必要</p></div></div><div class="p-4 bg-orange-50 rounded border border-orange-200"><div class="font-medium text-orange-800 mb-2">Microsoft Visio</div><div class="text-sm text-orange-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>利点:</strong> 複雑な図の作成に対応し、業界標準のツールとしての信頼性が高い<br/>
<strong>欠点:</strong> Microsoft製品との統合に重点</p></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">VSCodeへの拡張機能のインストール</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">1. VSCode拡張機能マーケットプレイスにアクセス</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">VSCodeの拡張機能タブから「Draw.io Integration」を検索してインストール</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">2. 新しいER図の作成</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">VSCodeで新しいファイルを作成し、ファイルの拡張子を <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">.drawio</code> または <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">.dio</code> に設定</li>
</ul><div><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">例: database-design.drawio
</code></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">ファイルを保存すると、draw.ioのエディタが自動的に開く</p><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">テーマカラーの変更</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">画面右下の「Theme: XXX」を押下することで色を変更することができます。お好みのテーマを選択してください。</p></div></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">データモデリングの基礎</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">データモデリングの必要性</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">データモデリングを行う理由は...</p><div class="my-6 "><div class="infographic-content"><div class="space-y-3"><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-blue-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><div class="font-medium text-slate-800">データ整合性の確保</div><div class="text-sm text-slate-600">データ間の正確な関係を定義し、データの一貫性と正確性を保証する</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-green-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><div><div class="font-medium text-slate-800">効率的なデータアクセス</div><div class="text-sm text-slate-600">適切に構造化されたデータモデルを通じて、データの検索、更新、削除が効率的に実施</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-purple-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg></div><div><div class="font-medium text-slate-800">複雑なデータ関係の可視化</div><div class="text-sm text-slate-600">ER図などのデータモデリングツールを使用して、複雑なデータの関係性を明確に理解し、可視化</div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">エンティティとは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">エンティティ</strong>はデータベースで管理される情報の単位</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">例：学校のデータベースの場合のエンティティ</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">「生徒」「先生」「授業」...など</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">各エンティティは属性を持つ：</strong></p><div class="my-6 "><div class="infographic-content"><div class="p-4 bg-blue-50 rounded border border-blue-200"><div class="font-medium text-blue-800 mb-3">「生徒」エンティティの属性例</div><div class="grid grid-cols-3 gap-2"><div class="p-2 bg-white rounded border border-blue-100 text-center text-sm">名前</div><div class="p-2 bg-white rounded border border-blue-100 text-center text-sm">学年</div><div class="p-2 bg-white rounded border border-blue-100 text-center text-sm">クラス</div><div class="p-2 bg-white rounded border border-blue-100 text-center text-sm">学籍番号</div><div class="p-2 bg-white rounded border border-blue-100 text-center text-sm">生年月日</div><div class="p-2 bg-white rounded border border-blue-100 text-center text-sm">...</div></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">ポイント</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">エンティティは「テーブル」として実装され、属性は「カラム（列）」として実装されます。</p></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">リレーションシップとは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">リレーションシップ</strong>はエンティティ間の関連性を示す</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">例：</strong> 「生徒」は「授業」に「参加する」というリレーションシップがある</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">リレーションシップの種類</strong></p><div class="my-6 "><div class="infographic-content"><div class="space-y-3"><div class="flex items-start p-3 bg-blue-50 rounded border border-blue-200"><div class="w-6 h-6 text-blue-600 mr-3 mt-0.5"><div class="text-lg font-bold">1:1</div></div><div><div class="font-medium text-slate-800">一対一（One-to-One）</div><div class="text-sm text-slate-600">1つのレコードが別のテーブルの1つのレコードとだけ関連</div></div></div><div class="flex items-start p-3 bg-green-50 rounded border border-green-200"><div class="w-6 h-6 text-green-600 mr-3 mt-0.5"><div class="text-lg font-bold">1:N</div></div><div><div class="font-medium text-slate-800">一対多（One-to-Many）</div><div class="text-sm text-slate-600">1つのレコードが別のテーブルの複数レコードと関連</div></div></div><div class="flex items-start p-3 bg-orange-50 rounded border border-orange-200"><div class="w-6 h-6 text-orange-600 mr-3 mt-0.5"><div class="text-lg font-bold">N:M</div></div><div><div class="font-medium text-slate-800">多対多（Many-to-Many）</div><div class="text-sm text-slate-600">複数のレコードが別のテーブルの複数レコードと関連</div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">キーの概念（プライマリキー・外部キー）</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">プライマリキー（主キー / PK）</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">各エンティティ内のレコードを一意に識別するためのキー</li>
<li class="relative ml-2">値の重複や変更が許容されない</li>
</ul><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">外部キー（FK）</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">異なるエンティティ間のリレーションシップを表現するためのキー</li>
<li class="relative ml-2">他のテーブルのプライマリキーを参照する</li>
</ul><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">courses.instructor_id</code>（外部キー）が <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">instructors.id</code>（プライマリキー）を参照</li>
<li class="relative ml-2">これにより「どのコースをどの講師が担当しているか」を表現</li>
</ul></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">ER図とは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">ER図</strong>（Entity Relationship Diagram）は、エンティティ・リレーションシップ図のこと</li>
<li class="relative ml-2">エンティティ間の関連性やキーの概念を視覚的に表現した図</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">ER図の構成要素</strong></p><div class="my-6 "><div class="infographic-content"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="p-3 bg-slate-50 rounded border border-slate-200"><div class="font-medium text-slate-800 mb-2">エンティティ</div><div class="text-sm text-slate-600">四角形で表され、エンティティ名が記載される</div></div><div class="p-3 bg-slate-50 rounded border border-slate-200"><div class="font-medium text-slate-800 mb-2">リレーションシップ</div><div class="text-sm text-slate-600">線でエンティティ間を結び、関連性の種類を示す</div></div><div class="p-3 bg-slate-50 rounded border border-slate-200"><div class="font-medium text-slate-800 mb-2">属性</div><div class="text-sm text-slate-600">エンティティに紐づく情報（カラム）</div></div><div class="p-3 bg-slate-50 rounded border border-slate-200"><div class="font-medium text-slate-800 mb-2">キー</div><div class="text-sm text-slate-600">PK（主キー）、FK（外部キー）を明示する</div></div></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">ER図の例：授業と生徒の管理システム</strong></p><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">ER図作成演習</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">draw.ioでのER図作図手順</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">1. ER図の要素追加</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">左側メニューの「その他の要素」を押下し、「ソフトウェア &gt; ER」にチェックを入れて「適用」を押下</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">2. エンティティの作図</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">必要な形状をクリックし、ドラッグ&amp;ドロップでキャンバスに配置</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">3. エンティティの編集</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">形状をダブルクリックしてテキストを編集</li>
<li class="relative ml-2">フィールドを追加したい場合は、挿入したいフィールドを選択後、「フォーマット &gt; 配置 &gt; テーブル」内にあるアイコンを押下</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">4. リレーションの作図</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">エンティティを未選択状態でカーソルを乗せると青い矢印が表示される</li>
<li class="relative ml-2">エンティティ間をドラッグして線を引く</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">5. リレーションの編集</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">リレーションを選択状態にすると「フォーマット &gt; スタイル」より編集が可能</li>
</ul><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">よく使うアイコン</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">下段アイコンの「線の形状」「始点の形状」「終点の形状」をよく使います。リレーションの種類（1:1、1:N、N:M）に応じて適切な形状を選択しましょう。</p></div></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">正規化</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">正規化とは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">正規化の本質</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">正規化とは、<strong class="font-semibold text-slate-900 dark:text-slate-100">データの重複を排除し、データの整合性を保つ</strong>ためのデータベース設計手法です。</p></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">正規化のポイント：</strong></p><div class="my-6 "><div class="infographic-content"><div class="space-y-3"><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-blue-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><div><div class="font-medium text-slate-800">1つの情報は1箇所に</div><div class="text-sm text-slate-600">同じ情報を複数箇所に持たせない</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-green-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7c0-2.21-3.582-4-8-4s-8 1.79-8 4z"></path></svg></div><div><div class="font-medium text-slate-800">目的ごとにテーブルを分ける</div><div class="text-sm text-slate-600">学生情報、コース情報、受講情報...など</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-purple-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></div><div><div class="font-medium text-slate-800">テーブル同士を関連付ける</div><div class="text-sm text-slate-600">外部キーでテーブル間の関係を表現</div></div></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">正規化 → 複数テーブルの連携へ</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">正規化によってデータを複数のテーブルに分割するため、<strong class="font-semibold text-slate-900 dark:text-slate-100">関連するデータを取得するにはテーブル同士を連携（JOIN）する必要があります</strong>。JOINの詳細は後半で学びます。</p></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">正規化のプロセス</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">正規化は段階的に行われ、各段階でより適切なデータ設計になる</li>
</ul><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">実務での正規化</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">一般的なWebアプリケーション開発では、第3正規形（3NF）まで正規化すれば十分です。それ以上の正規化（BCNF、4NF、5NF）は特殊なケースでのみ必要になります。</p></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">第1正規化（1NF）の詳細</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">説明：</strong>
テーブル内の各カラムに原子値（これ以上分割できない値）のみが含まれ、各カラムの値が一意のデータ型を持つこと。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">噛み砕いた説明：</strong>
各マス（セル）には <strong class="font-semibold text-slate-900 dark:text-slate-100">1つの情報だけ</strong> を入れる。リストや複数の値を1つのマスに入れない。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">例：</strong></p><div class="my-6 "><div class="infographic-content"><div class="space-y-4"><div class="p-4 bg-red-50 rounded border border-red-200"><div class="font-medium text-red-800 mb-2">非正規化（NG）</div><div class="overflow-x-auto"><table class="text-sm w-full"><thead><tr class="bg-red-100"><th class="p-2 border">生徒名</th><th class="p-2 border">クラブ活動</th></tr></thead><tbody><tr><td class="p-2 border">田中太郎</td><td class="p-2 border text-red-600">サッカー部, テニス部</td></tr><tr><td class="p-2 border">佐藤花子</td><td class="p-2 border text-red-600">吹奏楽部, 美術部, 文芸部</td></tr></tbody></table></div><div class="text-xs text-red-600 mt-2">問題: 1つのセルに複数の値が入っている</div></div><div class="p-4 bg-green-50 rounded border border-green-200"><div class="font-medium text-green-800 mb-2">第1正規形（OK）</div><div class="overflow-x-auto"><table class="text-sm w-full"><thead><tr class="bg-green-100"><th class="p-2 border">生徒名</th><th class="p-2 border">クラブ活動</th></tr></thead><tbody><tr><td class="p-2 border">田中太郎</td><td class="p-2 border">サッカー部</td></tr><tr><td class="p-2 border">田中太郎</td><td class="p-2 border">テニス部</td></tr><tr><td class="p-2 border">佐藤花子</td><td class="p-2 border">吹奏楽部</td></tr><tr><td class="p-2 border">佐藤花子</td><td class="p-2 border">美術部</td></tr><tr><td class="p-2 border">佐藤花子</td><td class="p-2 border">文芸部</td></tr></tbody></table></div><div class="text-xs text-green-600 mt-2">改善: 各セルに1つの値のみ</div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">第2正規化（2NF）の詳細</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">説明：</strong>
1NFを満たし、全ての非キーカラムがプライマリキー全体に完全に依存している（部分的依存がない）こと。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">噛み砕いた説明：</strong>
テーブルが複数の情報を混在させず、<strong class="font-semibold text-slate-900 dark:text-slate-100">情報ごとにテーブルを分ける</strong>。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">例：</strong></p><div class="my-6 "><div class="infographic-content"><div class="space-y-4"><div class="p-4 bg-red-50 rounded border border-red-200"><div class="font-medium text-red-800 mb-2">非2NF（NG）</div><div class="overflow-x-auto"><table class="text-sm w-full"><thead><tr class="bg-red-100"><th class="p-2 border">学生ID</th><th class="p-2 border">科目ID</th><th class="p-2 border">科目名</th><th class="p-2 border">成績</th></tr></thead><tbody><tr><td class="p-2 border">S001</td><td class="p-2 border">C001</td><td class="p-2 border text-red-600">数学</td><td class="p-2 border">85</td></tr><tr><td class="p-2 border">S001</td><td class="p-2 border">C002</td><td class="p-2 border text-red-600">英語</td><td class="p-2 border">90</td></tr></tbody></table></div><div class="text-xs text-red-600 mt-2">問題: 科目名は科目IDにのみ依存（部分依存）</div></div><div class="p-4 bg-green-50 rounded border border-green-200"><div class="font-medium text-green-800 mb-2">第2正規形（OK）- テーブルを分割</div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><div class="text-xs font-medium mb-1">成績テーブル</div><table class="text-sm w-full"><thead><tr class="bg-green-100"><th class="p-1 border text-xs">学生ID</th><th class="p-1 border text-xs">科目ID</th><th class="p-1 border text-xs">成績</th></tr></thead><tbody><tr><td class="p-1 border text-xs">S001</td><td class="p-1 border text-xs">C001</td><td class="p-1 border text-xs">85</td></tr><tr><td class="p-1 border text-xs">S001</td><td class="p-1 border text-xs">C002</td><td class="p-1 border text-xs">90</td></tr></tbody></table></div><div><div class="text-xs font-medium mb-1">科目テーブル</div><table class="text-sm w-full"><thead><tr class="bg-green-100"><th class="p-1 border text-xs">科目ID</th><th class="p-1 border text-xs">科目名</th></tr></thead><tbody><tr><td class="p-1 border text-xs">C001</td><td class="p-1 border text-xs">数学</td></tr><tr><td class="p-1 border text-xs">C002</td><td class="p-1 border text-xs">英語</td></tr></tbody></table></div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">第3正規化（3NF）の詳細</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">説明：</strong>
2NFを満たし、全ての非キーカラムが他の非キーカラムに依存していない（推移的関数従属がない）こと。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">噛み砕いた説明：</strong>
情報が他の情報に <strong class="font-semibold text-slate-900 dark:text-slate-100">間接的に依存しないようにする</strong>。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">例：</strong></p><div class="my-6 "><div class="infographic-content"><div class="space-y-4"><div class="p-4 bg-red-50 rounded border border-red-200"><div class="font-medium text-red-800 mb-2">非3NF（NG）</div><div class="overflow-x-auto"><table class="text-sm w-full"><thead><tr class="bg-red-100"><th class="p-2 border">教師ID</th><th class="p-2 border">教師名</th><th class="p-2 border">学部ID</th><th class="p-2 border">学部名</th></tr></thead><tbody><tr><td class="p-2 border">T001</td><td class="p-2 border">山田先生</td><td class="p-2 border">D01</td><td class="p-2 border text-red-600">理学部</td></tr><tr><td class="p-2 border">T002</td><td class="p-2 border">佐藤先生</td><td class="p-2 border">D01</td><td class="p-2 border text-red-600">理学部</td></tr></tbody></table></div><div class="text-xs text-red-600 mt-2">問題: 学部名は学部IDに依存（推移的依存: 教師ID → 学部ID → 学部名）</div></div><div class="p-4 bg-green-50 rounded border border-green-200"><div class="font-medium text-green-800 mb-2">第3正規形（OK）- テーブルを分割</div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><div class="text-xs font-medium mb-1">教師テーブル</div><table class="text-sm w-full"><thead><tr class="bg-green-100"><th class="p-1 border text-xs">教師ID</th><th class="p-1 border text-xs">教師名</th><th class="p-1 border text-xs">学部ID</th></tr></thead><tbody><tr><td class="p-1 border text-xs">T001</td><td class="p-1 border text-xs">山田先生</td><td class="p-1 border text-xs">D01</td></tr><tr><td class="p-1 border text-xs">T002</td><td class="p-1 border text-xs">佐藤先生</td><td class="p-1 border text-xs">D01</td></tr></tbody></table></div><div><div class="text-xs font-medium mb-1">学部テーブル</div><table class="text-sm w-full"><thead><tr class="bg-green-100"><th class="p-1 border text-xs">学部ID</th><th class="p-1 border text-xs">学部名</th></tr></thead><tbody><tr><td class="p-1 border text-xs">D01</td><td class="p-1 border text-xs">理学部</td></tr></tbody></table></div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold"><span class="inline-flex items-center px-2 mr-1 text-sm font-medium bg-slate-800 dark:bg-slate-100/30 text-slate-100 dark:text-slate-900 rounded-full h-full">演習</span> 非正規系データの正規化</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-6 p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-yellow-800 dark:text-yellow-200">課題</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">ある会社の社員管理システムで使われているデータがあります。サンプルデータを参考に、draw.io で正規化されたER図を作成してください。</p></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">サンプルデータ：</strong></p><div class="overflow-x-auto my-4"><table class="w-full border-collapse border border-slate-200 dark:border-slate-700"><thead class="bg-slate-50 dark:bg-slate-800"><tr class="border-b border-slate-200 dark:border-slate-700"><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">社員ID</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">社員名</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">部署名</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">オフィス所在地</th></tr></thead><tbody class="text-slate-700 dark:text-slate-300"><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">1</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">営業部</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">東京</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤花子</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">営業部</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">東京</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">3</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">鈴木一郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">開発部</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">大阪</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">4</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">山田次郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">開発部</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">大阪</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">5</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">高橋美咲</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">人事部</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">東京</td></tr></tbody></table></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">ヒント：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">部署名とオフィス所在地の関係に注目しよう</li>
<li class="relative ml-2">同じ情報が繰り返されている箇所はどこ？</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">条件：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">リレーション / キー の記載はなくて良い</li>
<li class="relative ml-2">日本語での記載で良い</li>
</ul><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">追加チャレンジ</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">課題が終わったら以下にもチャレンジしてみよう！</p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">テーブル名 / カラム名 を英単語にしてみよう</li>
<li class="relative ml-2">キー（PK / FK）を割り振ってみよう</li>
<li class="relative ml-2">リレーションを定義してみよう</li>
</ul></div></div></div><details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">[回答例] 演習が完了してから見てください</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">正規化のポイント：</strong></p><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">第2正規形（2NF）</strong>: 部署情報を別テーブルに分離</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">第3正規形（3NF）</strong>: オフィス所在地は部署に依存（推移的依存）なので、オフィステーブルに分離</li>
</ol><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">正規化後のテーブル構成（日本語版）：</strong></p><div class="my-6 "><div class="infographic-content"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="p-3 bg-blue-50 rounded border border-blue-200"><div class="font-medium text-blue-800 mb-2">社員テーブル</div><div class="text-sm text-blue-700 space-y-1"><div>社員ID（PK）</div><div>社員名</div><div>部署ID（FK）</div></div></div><div class="p-3 bg-green-50 rounded border border-green-200"><div class="font-medium text-green-800 mb-2">部署テーブル</div><div class="text-sm text-green-700 space-y-1"><div>部署ID（PK）</div><div>部署名</div><div>オフィスID（FK）</div></div></div><div class="p-3 bg-orange-50 rounded border border-orange-200"><div class="font-medium text-orange-800 mb-2">オフィステーブル</div><div class="text-sm text-orange-700 space-y-1"><div>オフィスID（PK）</div><div>所在地</div></div></div></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">ER図（英語版 + キー + リレーション）：</strong></p><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">リレーションの解説：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">社員 → 部署</strong>: 多対1（複数の社員が1つの部署に所属）</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">部署 → オフィス</strong>: 多対1（複数の部署が1つのオフィスに配置）</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">正規化によって解決された問題：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">部署名やオフィス所在地の重複がなくなった</li>
<li class="relative ml-2">部署の所在地を変更する場合、オフィステーブルの1行を更新するだけでOK</li>
</ul></div></details></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">リレーション</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">1対1（One-to-One）リレーション</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">解説：</strong>
一つのレコードが別のテーブルのただ一つのレコードとだけ関連づけられる関係。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">定義方法：</strong>
主キーを外部キーとして別のテーブルに設定する。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">実例：</strong></p><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><div class="my-6 "><div class="infographic-content"><div class="p-4 bg-blue-50 rounded border border-blue-200"><div class="font-medium text-blue-800 mb-2">1対1リレーションの使用例</div><div class="text-sm text-blue-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>ユーザー</strong> と <strong>ユーザープロフィール</strong><br/>
1人のユーザーには1つのプロフィールが対応し、1つのプロフィールは1人のユーザーにのみ属する</p></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">1対1リレーションを使う場面</div><div class="text-slate-700 dark:text-slate-300"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">テーブルを機能的に分割したい場合</li>
<li class="relative ml-2">アクセス頻度の異なるデータを分離したい場合</li>
<li class="relative ml-2">セキュリティ上の理由でデータを分離したい場合</li>
</ul></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">1対多（One-to-Many）リレーション</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">解説：</strong>
一つのレコードが別のテーブルの複数のレコードと関連づけられる関係。最も一般的なリレーションタイプです。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">定義方法：</strong>
&quot;多&quot; 側のテーブルに &quot;一&quot; 側のテーブルの主キーを外部キーとして設定する。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">実例：</strong></p><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><div class="my-6 "><div class="infographic-content"><div class="p-4 bg-green-50 rounded border border-green-200"><div class="font-medium text-green-800 mb-2">1対多リレーションの使用例</div><div class="text-sm text-green-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>部署</strong> と <strong>社員</strong><br/>
1つの部署には複数の社員が所属できるが、1人の社員は1つの部署にのみ所属する</p></div></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">その他の例：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">顧客 と 注文（1人の顧客は複数の注文を行える）</li>
<li class="relative ml-2">カテゴリ と 商品（1つのカテゴリには複数の商品が属する）</li>
<li class="relative ml-2">著者 と 記事（1人の著者は複数の記事を執筆できる）</li>
</ul></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">多対多（Many-to-Many）リレーション</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">解説：</strong>
複数のレコードが別のテーブルの複数のレコードと関連づけられる関係。この関係を直接的に表現することはできないため、<strong class="font-semibold text-slate-900 dark:text-slate-100">中間テーブル</strong>を用いて関連づけます。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">中間テーブルとは：</strong>
二つのテーブル間の多対多の関係を管理するために使用されるテーブル。各レコードは、関連する二つのテーブルのレコード間のリンクを表します。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">定義方法：</strong>
中間テーブルには、関連する二つのテーブルの主キーを外部キーとして含める。これらの外部キーの組み合わせが中間テーブルのユニークキーまたはプライマリキーになります。</p><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">実例：</strong></p><div class="my-6 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50/30 dark:bg-slate-800/30"><div class="text-center text-slate-500 dark:text-slate-400 text-sm py-4">図表を読み込み中...</div><div class="text-center w-full flex justify-center hidden"></div></div><div class="my-6 "><div class="infographic-content"><div class="p-4 bg-orange-50 rounded border border-orange-200"><div class="font-medium text-orange-800 mb-2">多対多リレーションの使用例</div><div class="text-sm text-orange-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>生徒</strong> と <strong>授業</strong><br/>
1人の生徒は複数の授業を受講でき、1つの授業には複数の生徒が参加できる<br/>
→ <strong>中間テーブル（enrollments）</strong> で関係を管理</p></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-yellow-800 dark:text-yellow-200">中間テーブルの重要性</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">多対多リレーションは必ず中間テーブルを使って実装します。中間テーブルには追加情報（例：登録日、ステータスなど）を持たせることもできます。</p></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">その他の例：</strong></p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">商品 と タグ（1つの商品に複数のタグ、1つのタグは複数の商品に付与）</li>
<li class="relative ml-2">ユーザー と ロール（1人のユーザーに複数のロール、1つのロールは複数のユーザーに割当）</li>
</ul></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">JOIN（結合）の基本概念</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">JOINとは何か？</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">JOIN</strong>とは、複数のテーブルを結合してデータを取得するSQL文です。正規化によって分割されたテーブルから、関連するデータを一緒に取得するために使用します。</p><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">重要なポイント</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">外部キー制約がなくてもJOINは実行できますが、制約があった方が安全で信頼できるデータベースになります。JOINは「接着剤」、外部キー制約は「品質管理」の役割です。</p></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">JOINと外部キー制約の関係：</strong></p><div class="overflow-x-auto my-4"><table class="w-full border-collapse border border-slate-200 dark:border-slate-700"><thead class="bg-slate-50 dark:bg-slate-800"><tr class="border-b border-slate-200 dark:border-slate-700"><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">項目</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">外部キー制約あり</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">外部キー制約なし</th></tr></thead><tbody class="text-slate-700 dark:text-slate-300"><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><strong class="font-semibold text-slate-900 dark:text-slate-100">JOINの実行</strong></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">✅ できる</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">✅ できる</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><strong class="font-semibold text-slate-900 dark:text-slate-100">データ整合性</strong></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">✅ 保証される</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">❌ 保証されない</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><strong class="font-semibold text-slate-900 dark:text-slate-100">不正データの挿入</strong></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">❌ 防げる</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">✅ 可能（危険）</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><strong class="font-semibold text-slate-900 dark:text-slate-100">参照先の削除</strong></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">❌ 防げる</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">✅ 可能（危険）</td></tr></tbody></table></div><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- 外部キー制約がなくても、この書き方でJOINできる
SELECT s.name, c.name
FROM enrollments e
INNER JOIN students s ON e.student_id = s.id  -- 制約なしでもOK
INNER JOIN courses c ON e.course_id = c.id;   -- 制約なしでもOK
</code></pre></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">JOINの種類と使い分け</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">主要なJOIN種類：</strong></p><div class="my-6 "><div class="infographic-content"><div class="space-y-4"><div class="p-4 bg-blue-50 rounded border border-blue-200"><div class="flex items-center mb-2"><div class="w-6 h-6 text-blue-600 mr-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg></div><div class="font-medium text-blue-800">INNER JOIN（内部結合）★★★★★</div></div><div class="text-sm text-blue-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>動作：</strong> 両方のテーブルに一致するデータがある場合のみ結果に表示<br/>
<strong>使用場面：</strong> 関連があるデータのみ取得したい場合（最も使用頻度が高い）</p></div></div><div class="p-4 bg-green-50 rounded border border-green-200"><div class="flex items-center mb-2"><div class="w-6 h-6 text-green-600 mr-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11l5-5m0 0l5 5m-5-5v12"></path></svg></div><div class="font-medium text-green-800">LEFT JOIN（左外部結合）★★★☆☆</div></div><div class="text-sm text-green-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>動作：</strong> 左側（FROM句）のテーブルのデータを全て表示、右側に一致するデータがない場合はNULL<br/>
<strong>使用場面：</strong> 左側テーブルの全データ + 関連データを取得したい場合</p></div></div><div class="p-4 bg-orange-50 rounded border border-orange-200"><div class="flex items-center mb-2"><div class="w-6 h-6 text-orange-600 mr-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 13l-5 5m0 0l-5-5m5 5V6"></path></svg></div><div class="font-medium text-orange-800">RIGHT JOIN（右外部結合）★☆☆☆☆</div></div><div class="text-sm text-orange-700"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong>動作：</strong> 右側（JOIN句）のテーブルのデータを全て表示<br/>
<strong>使用頻度：</strong> 実務ではあまり使われない（LEFT JOINで代用可能）</p></div></div></div></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">基本構文：</strong></p><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- INNER JOIN（内部結合）の基本構文
SELECT 列名
FROM テーブル1
INNER JOIN テーブル2 ON テーブル1.列 = テーブル2.列;

-- LEFT JOIN（左外部結合）の基本構文
SELECT 列名
FROM テーブル1
LEFT JOIN テーブル2 ON テーブル1.列 = テーブル2.列;
</code></pre></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">INNER JOINの実践演習</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">演習準備：サンプルデータの投入</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">データベースとテーブルの作成：</strong></p><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- **************************************************
-- データベースの作成
-- **************************************************
CREATE DATABASE IF NOT EXISTS join_sample CHARACTER SET utf8 COLLATE utf8_unicode_ci;
USE join_sample;

-- **************************************************
-- テーブルの作成
-- **************************************************

-- 学生テーブル
CREATE TABLE IF NOT EXISTS students (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(64) NOT NULL,
    email VARCHAR(256) UNIQUE NOT NULL,
    phone VARCHAR(32)
);

-- 講師テーブル
CREATE TABLE IF NOT EXISTS instructors (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(64) NOT NULL,
    email VARCHAR(256) UNIQUE NOT NULL
);

-- コーステーブル
CREATE TABLE IF NOT EXISTS courses (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(64) NOT NULL,
    instructor_id INT NOT NULL,
    fee INT NOT NULL,
    FOREIGN KEY (instructor_id) REFERENCES instructors(id)
);

-- 受講テーブル（学生とコースの関連）
CREATE TABLE IF NOT EXISTS enrollments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    student_id INT NOT NULL,
    course_id INT NOT NULL,
    enrollment_date DATE NOT NULL,
    FOREIGN KEY (student_id) REFERENCES students(id),
    FOREIGN KEY (course_id) REFERENCES courses(id)
);

-- **************************************************
-- ダミーデータの投入
-- **************************************************

-- 学生データ
INSERT INTO students (name, email, phone) VALUES 
(&#x27;田中太郎&#x27;, &#x27;tanaka@example.com&#x27;, &#x27;090-1234-5678&#x27;),
(&#x27;佐藤花子&#x27;, &#x27;sato@example.com&#x27;, &#x27;080-9876-5432&#x27;),
(&#x27;鈴木一郎&#x27;, &#x27;suzuki@example.com&#x27;, &#x27;070-1111-2222&#x27;);

-- 講師データ
INSERT INTO instructors (name, email) VALUES 
(&#x27;佐藤先生&#x27;, &#x27;sato@school.com&#x27;),
(&#x27;田中先生&#x27;, &#x27;tanaka@school.com&#x27;);

-- コースデータ
INSERT INTO courses (name, instructor_id, fee) VALUES 
(&#x27;PHP基礎&#x27;, 1, 50000),
(&#x27;JavaScript基礎&#x27;, 2, 45000),
(&#x27;React応用&#x27;, 1, 60000);

-- 受講データ
INSERT INTO enrollments (student_id, course_id, enrollment_date) VALUES 
(1, 1, &#x27;2024-01-15&#x27;),  -- 田中太郎がPHP基礎を受講
(2, 2, &#x27;2024-01-16&#x27;),  -- 佐藤花子がJavaScript基礎を受講
(1, 3, &#x27;2024-01-17&#x27;),  -- 田中太郎がReact応用を受講
(3, 1, &#x27;2024-01-18&#x27;),  -- 鈴木一郎がPHP基礎を受講
(1, 2, &#x27;2024-01-20&#x27;);  -- 田中太郎がJavaScript基礎を受講
</code></pre></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">演習1: コースと講師を結合して表示</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">段階的にJOINを理解しましょう：</strong></p><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">まずはcoursesテーブル単体から情報を取得</strong></li>
</ol><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- coursesテーブルの基本情報を確認
SELECT 
    name AS コース名,
    fee AS 受講料,
    instructor_id AS 担当講師ID
FROM courses;
</code></pre></div></div><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal" start="2">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">INNER JOINでinstructorsと結合</strong></li>
</ol><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- コース名と担当講師名を一緒に表示
SELECT
    c.name AS コース名,
    c.fee AS 受講料,
    i.name AS 担当講師
FROM courses c
INNER JOIN instructors i ON c.instructor_id = i.id;
</code></pre></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">実行結果：</strong></p><div class="overflow-x-auto my-4"><table class="w-full border-collapse border border-slate-200 dark:border-slate-700"><thead class="bg-slate-50 dark:bg-slate-800"><tr class="border-b border-slate-200 dark:border-slate-700"><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">コース名</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">受講料</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">担当講師</th></tr></thead><tbody class="text-slate-700 dark:text-slate-300"><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">PHP基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">50000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤先生</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">JavaScript基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">45000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中先生</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">React応用</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">60000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤先生</td></tr></tbody></table></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">エイリアス（AS）の重要性</div><div class="text-slate-700 dark:text-slate-300"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">AS</code>を使って列名を分かりやすくする</li>
<li class="relative ml-2"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">courses c</code>のようにテーブル名も短縮できる</li>
<li class="relative ml-2">複数テーブルの同名列を区別するために必須</li>
</ul></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">演習2: 学生と受講コースを結合して表示</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">3つのテーブルをJOINする手順：</strong></p><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">enrollmentsテーブルから基本情報を確認</strong></li>
</ol><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- 受講テーブル単体の情報を確認
SELECT 
    id,
    student_id,
    course_id,
    enrollment_date
FROM enrollments
ORDER BY enrollment_date;
</code></pre></div></div><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal" start="2">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">studentsテーブルと結合</strong></li>
</ol><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- 学生情報を結合
SELECT 
    e.id,
    s.name AS 学生名,
    e.course_id,
    e.enrollment_date
FROM enrollments e
INNER JOIN students s ON e.student_id = s.id
ORDER BY e.enrollment_date;
</code></pre></div></div><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal" start="3">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">coursesテーブルも結合</strong></li>
</ol><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- 学生名と受講コース名を一緒に表示
SELECT
    s.name AS 学生名,
    s.email AS メールアドレス,
    c.name AS 受講コース,
    e.enrollment_date AS 受講開始日
FROM enrollments e
INNER JOIN students s ON e.student_id = s.id
INNER JOIN courses c ON e.course_id = c.id
ORDER BY e.enrollment_date;
</code></pre></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">実行結果：</strong></p><div class="overflow-x-auto my-4"><table class="w-full border-collapse border border-slate-200 dark:border-slate-700"><thead class="bg-slate-50 dark:bg-slate-800"><tr class="border-b border-slate-200 dark:border-slate-700"><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">学生名</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">メールアドレス</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">受講コース</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">受講開始日</th></tr></thead><tbody class="text-slate-700 dark:text-slate-300"><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="mailto:tanaka@example.com">tanaka@example.com</a></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">PHP基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-15</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤花子</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="mailto:sato@example.com">sato@example.com</a></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">JavaScript基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-16</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="mailto:tanaka@example.com">tanaka@example.com</a></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">React応用</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-17</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">鈴木一郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="mailto:suzuki@example.com">suzuki@example.com</a></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">PHP基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-18</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700"><a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="mailto:tanaka@example.com">tanaka@example.com</a></td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">JavaScript基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-20</td></tr></tbody></table></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">演習3: 4つのテーブルをすべてJOIN</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">すべての情報を統合して表示：</strong></p><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-sql !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-sql">-- 受講に関する全ての情報を表示
SELECT
    s.name AS 学生名,
    c.name AS コース名,
    i.name AS 担当講師,
    c.fee AS 受講料,
    e.enrollment_date AS 受講開始日
FROM enrollments e
INNER JOIN students s ON e.student_id = s.id
INNER JOIN courses c ON e.course_id = c.id
INNER JOIN instructors i ON c.instructor_id = i.id
ORDER BY e.enrollment_date;
</code></pre></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">実行結果：</strong></p><div class="overflow-x-auto my-4"><table class="w-full border-collapse border border-slate-200 dark:border-slate-700"><thead class="bg-slate-50 dark:bg-slate-800"><tr class="border-b border-slate-200 dark:border-slate-700"><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">学生名</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">コース名</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">担当講師</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">受講料</th><th class="px-4 py-2 text-left font-semibold text-slate-900 dark:text-slate-100 border-r border-slate-200 dark:border-slate-700">受講開始日</th></tr></thead><tbody class="text-slate-700 dark:text-slate-300"><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">PHP基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤先生</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">50000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-15</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤花子</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">JavaScript基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中先生</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">45000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-16</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">React応用</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤先生</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">60000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-17</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">鈴木一郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">PHP基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">佐藤先生</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">50000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-18</td></tr><tr class="border-b border-slate-200 dark:border-slate-700"><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中太郎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">JavaScript基礎</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">田中先生</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">45000</td><td class="px-4 py-2 border-r border-slate-200 dark:border-slate-700">2024-01-20</td></tr></tbody></table></div><div class="my-6 p-4 rounded-lg border bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-emerald-600 dark:text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-emerald-800 dark:text-emerald-200">複数テーブルJOINの成功</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">4つのテーブルから関連するすべての情報を1つのクエリで取得できました！これが正規化とJOINの力です。</p></div></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">まとめ</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">今回学んだ重要なポイント</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-6 "><div class="infographic-content"><div class="space-y-3"><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-blue-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><div class="font-medium text-slate-800">データモデリング</div><div class="text-sm text-slate-600">エンティティとリレーションシップでデータを整理する基本概念</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-green-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"></path></svg></div><div><div class="font-medium text-slate-800">ER図</div><div class="text-sm text-slate-600">draw.ioを使ったER図の作成方法とテーブル設計の可視化</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-orange-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7c0-2.21-3.582-4-8-4s-8 1.79-8 4z"></path></svg></div><div><div class="font-medium text-slate-800">正規化（1NF〜3NF）</div><div class="text-sm text-slate-600">データの重複を排除し、整合性の高いテーブル設計</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-purple-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg></div><div><div class="font-medium text-slate-800">リレーション</div><div class="text-sm text-slate-600">1対1、1対多、多対多の関係性と中間テーブルの活用</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-red-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div><div><div class="font-medium text-slate-800">INNER JOIN</div><div class="text-sm text-slate-600">正規化されたテーブルからデータを結合して取得する方法</div></div></div></div></div></div></div></details></div><div></div></div></main></div></div><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", null)</script><script>window.__reactRouterContext = {"basename":"/gs-textbook-php","future":{"unstable_middleware":false,"unstable_optimizeDeps":false,"unstable_splitRouteModules":false,"unstable_subResourceIntegrity":false,"unstable_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/gs-textbook-php/assets/manifest-94717049.js";
import * as route0 from "/gs-textbook-php/assets/root-ChSc94-u.js";
import * as route1 from "/gs-textbook-php/assets/lessons._slug-0zrPKnYr.js";
  
  window.__reactRouterRouteModules = {"root":route0,"routes/lessons.$slug":route1};

import("/gs-textbook-php/assets/entry.client-DtWayQEr.js");</script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script><!--$?--><template id="B:0"></template><!--/$--><div hidden id="S:0"><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_3\":-5,\"_4\":-5},\"loaderData\",{},\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:1"></template><!--/$--></div><script>$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><script>window.__reactRouterContext.streamController.close();</script></div><script>$RC("B:1","S:1")</script></body></html>