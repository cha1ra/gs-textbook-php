<!DOCTYPE html><html lang="ja"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="../../images/js/firebase01.png"/><link rel="preload" as="image" href="../../images/js/firebase02.png"/><link rel="preload" as="image" href="../../images/js/firebase03.png"/><link rel="preload" as="image" href="../../images/js/firebase04.png"/><link rel="preload" as="image" href="../../images/js/firebase05.png"/><link rel="preload" as="image" href="../../images/js/firebase06.png"/><link rel="preload" as="image" href="../../images/js/firebase07.png"/><link rel="preload" as="image" href="../../images/js/firebase08.png"/><link rel="preload" as="image" href="../../images/js/firebase09.png"/><link rel="preload" as="image" href="../../images/js/firebase10.png"/><link rel="preload" as="image" href="../../images/js/firebase12.png"/><link rel="preload" as="image" href="../../images/js/firebase13.png"/><link rel="preload" as="image" href="../../images/js/firebase14.png"/><link rel="preload" as="image" href="../../images/js/firebase15.png"/><link rel="preload" as="image" href="../../images/js/firebase16.png"/><link rel="preload" as="image" href="../../images/js/firebase17.png"/><link rel="preload" as="image" href="../../images/js/firebase18.png"/><link rel="preload" as="image" href="../../images/js/firebase19.png"/><link rel="modulepreload" href="/gs-textbook-php/assets/manifest-94717049.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/entry.client-DtWayQEr.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/root-ChSc94-u.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/entry.client-DtWayQEr.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/lessons._slug-0zrPKnYr.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/mermaid-vendor-CpAEI21m.js"/><link rel="modulepreload" href="/gs-textbook-php/assets/lessons-BdiUGkJ5.js"/><meta name="robots" content="noindex"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><title>Lessons</title><meta name="robots" content="index,follow"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="icon" href="https://g-s.dev/uploads/cropped-g-s_fabicon-2-32x32.png" sizes="32x32"/><link rel="icon" href="https://g-s.dev/uploads/cropped-g-s_fabicon-2-192x192.png" sizes="192x192"/><link rel="apple-touch-icon" href="https://g-s.dev/uploads/cropped-g-s_fabicon-2-180x180.png"/><link href="https://fonts.googleapis.com/css2?family=M+PLUS+1p:wght@100;300;400;500;700;800;900&amp;display=swap" rel="stylesheet"/><link rel="stylesheet" href="/gs-textbook-php/assets/root-Cj4fzsib.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&amp;display=swap"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"/><script>
              window.Prism = window.Prism || {};
              window.Prism.manual = true;
            </script></head><body style="font-family:&#x27;M PLUS 1p&#x27;"><div class="relative from-slate-200 bg-gradient-to-b to-slate-300"><div class="grid transition-all duration-300 ease-in-out" style="grid-template-columns:280px 1fr"><aside class="h-screen sticky top-0 transition-all duration-300 ease-in-out w-[280px] pr-4 overflow-hidden border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-slate-800 px-4"><div class="py-2"><div class="flex items-center justify-between mb-3"><h2 class="text-sm font-semibold transition-opacity duration-300 ease-in-out opacity-100">授業資料一覧</h2><button class="p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded transition-colors duration-200" title="折りたたみ"><svg class="w-4 h-4 transform transition-transform duration-300 ease-in-out" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button></div><div class="mb-3 px-2"><button class="flex items-center gap-2 w-full text-xs text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors duration-200 py-2 px-2 rounded hover:bg-slate-100 dark:hover:bg-slate-700" title="全て開く"><svg class="w-3 h-3 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg><span>全て開く</span></button></div><nav class="space-y-1 transition-opacity duration-300 ease-in-out opacity-100"></nav></div></aside><main class="prose dark:prose-invert max-w-none bg-white dark:bg-slate-800 rounded w-5xl p-12 my-4 
  mx-auto"><div class="relative"><div style="display:block"><h1 class="text-3xl font-extrabold mb-4 text-slate-900 dark:text-slate-100 border-b border-slate-200 dark:border-slate-700 pb-2">#03 JavaScript - オブジェクト・Firebase</h1>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">今回のゴール</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">オブジェクトの概念と使い方を理解する</li>
<li class="relative ml-2">Firebaseを使った外部サービスへのデータ保存方法を体験する</li>
<li class="relative ml-2">チャットアプリの作成</li>
</ul></div></details>
<div class="my-6 p-4 rounded-lg border bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-700 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-gray-800 dark:text-gray-200">配布コード</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">zipファイルをダウンロード後に展開し、VSCodeで開いてください！</p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">講義内資料: <a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" href="../../zip/js03.zip">js03.zip</a></li>
</ul></div></div></div>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">オブジェクト</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">オブジェクトとは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">関連あるデータと機能をまとめて管理できるデータ構造</li>
<li class="relative ml-2">現実世界の「もの」をプログラムで表現するのに適している</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">配列だけでユーザー情報を管理する場合の問題：</strong></p><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// 扱いづらい...
const name = &quot;ラッコ&quot;;
const age = 5;
const region = &quot;日本&quot;;

// 何番目に何の情報があるか覚えなければならない...
const user = [&quot;ラッコ&quot;, 5, &quot;日本&quot;];
console.log(user[0]); // 名前？年齢？性別？
</code></pre></div></div><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><strong class="font-semibold text-slate-900 dark:text-slate-100">オブジェクトを使った解決法：</strong></p><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// 何の情報かが一目でわかる！
const user = {
  name: &quot;ラッコ&quot;,
  age: 5,
  region: &quot;日本&quot;
};
console.log(user.name); // &quot;ラッコ&quot; - 明らかに名前
</code></pre></div></div><div class="my-6 "><div class="infographic-content"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="p-4 bg-red-50 rounded border border-red-200"><div class="flex items-center mb-3"><div class="w-6 h-6 text-red-600 mr-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></div><div class="font-medium text-red-800">配列での管理</div></div><div class="text-sm text-red-700"><code class="bg-red-100 px-2 py-1 rounded font-mono">user[0]</code><div class="mt-1">インデックス番号を覚える必要がある</div></div></div><div class="p-4 bg-green-50 rounded border border-green-200"><div class="flex items-center mb-3"><div class="w-6 h-6 text-green-600 mr-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><div class="font-medium text-green-800">オブジェクトでの管理</div></div><div class="text-sm text-green-700"><code class="bg-green-100 px-2 py-1 rounded font-mono">user.name</code><div class="mt-1">キー名で直感的にアクセス</div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">基本的な文法</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// オブジェクトの宣言
const user = {
  name: &quot;ラッコ&quot;,
  age: 5,
  region: &quot;日本&quot;
};

// プロパティの取得（ドット記法）
console.log(user.name); // &quot;ラッコ&quot;
console.log(user.age);  // 5

// プロパティの取得（ブラケット記法）
console.log(user[&quot;name&quot;]); // &quot;ラッコ&quot;
console.log(user[&quot;region&quot;]);  // &quot;日本&quot;

// プロパティの追加
user.hobby = &quot;水泳&quot;;
console.log(user.hobby); // &quot;水泳&quot;

// プロパティの変更
user.age = 30;
console.log(user.age); // 30
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">ドット記法とブラケット記法の使い分け</div><div class="text-slate-700 dark:text-slate-300"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">ドット記法</strong>（<code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">user.name</code>）: 一般的でシンプル</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">ブラケット記法</strong>（<code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">user[&quot;name&quot;]</code>）: 変数でキーを指定したい場合に便利</li>
</ul><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">const key = &quot;name&quot;;
console.log(user[key]); // 変数keyの値&quot;name&quot;をキーとして使用
</code></pre></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">オブジェクトに格納できるデータ</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">const userData = {
  // 文字列
  name: &quot;田中太郎&quot;,
  
  // 数値
  age: 25,
  
  // 真偽値
  isActive: true,
  
  // 配列
  hobbies: [&quot;読書&quot;, &quot;映画鑑賞&quot;, &quot;プログラミング&quot;],
  
  // オブジェクト（ネストしたオブジェクト）
  address: {
    prefecture: &quot;東京都&quot;,
    city: &quot;渋谷区&quot;
  },
  
  // 関数（メソッド）
  greet: function() {
    return `こんにちは、${this.name}です！`;
  }
};

// 使用例
console.log(userData.name);           // &quot;田中太郎&quot;
console.log(userData.hobbies[0]);     // &quot;読書&quot;
console.log(userData.address.city);  // &quot;渋谷区&quot;
console.log(userData.greet());       // &quot;こんにちは、田中太郎です！&quot;
</code></pre></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">配列とオブジェクトの組み合わせ</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">配列の中にオブジェクトを格納する</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">配列には数字や文字だけでなく、オブジェクトを格納できる</li>
</ul><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// ユーザーリストの管理例
const users = [
  { name: &#x27;ラッコ&#x27;, age: 5, region: &#x27;日本&#x27; },
  { name: &#x27;アザラシ&#x27;, age: 3, region: &#x27;カナダ&#x27; },
  { name: &#x27;オットセイ&#x27;, age: 7, region: &#x27;アメリカ&#x27; }
];
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">実際のWebアプリケーションでの活用</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">このような「オブジェクトの配列」は、実際のWebアプリケーションで頻繁に使用されます。</p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">ユーザー一覧の表示</li>
<li class="relative ml-2">商品リストの管理</li>
<li class="relative ml-2">投稿データの処理
など、様々な場面で活躍します。</li>
</ul></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">オブジェクトの配列へのアクセス方法</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">インデックスとプロパティ名を組み合わせて、配列内のオブジェクトのデータにアクセス</li>
</ul><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// 最初のユーザーの名前を取得
console.log(users[0].name);  // &quot;ラッコ&quot;

// 2番目のユーザーの年齢を取得
console.log(users[1].age);   // 3

// カナダ在住のユーザーの地域を取得
console.log(users[1].region); // &quot;カナダ&quot;

// 配列の長さを確認
console.log(users.length);   // 3
</code></pre></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">配列メソッドとオブジェクトの組み合わせ</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// すべてのユーザー情報を表示
users.forEach((user) =&gt; {
    $(&#x27;#user-list&#x27;).append(`&lt;li&gt;${user.name}  (${user.age}歳、${user.region}在住)&lt;/li&gt;`);
});
</code></pre></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold"><span class="inline-flex items-center px-2 mr-1 text-sm font-medium bg-slate-800 dark:bg-slate-100/30 text-slate-100 dark:text-slate-900 rounded-full h-full">演習</span> 配列・オブジェクトの情報取得に慣れよう！</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">以下の演習ツールを使って、配列とオブジェクトの組み合わせに慣れてみましょう！</li>
</ul><div class="my-4 p-4 border border-slate-200 dark:border-slate-700 rounded-lg animate-pulse"><div class="flex gap-3"><div class="w-20 h-20 bg-slate-200 dark:bg-slate-700 rounded"></div><div class="flex-1 space-y-2"><div class="h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/3"></div></div></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">Firebase入門</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">Firebaseとは</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-4 p-4 border border-slate-200 dark:border-slate-700 rounded-lg animate-pulse"><div class="flex gap-3"><div class="w-20 h-20 bg-slate-200 dark:bg-slate-700 rounded"></div><div class="flex-1 space-y-2"><div class="h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/3"></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">Googleが提供するBaaS（Backend as a Service）</li>
<li class="relative ml-2">Webサーバーやデータベースを自分で用意せずに、クラウド上のサービスを利用できる</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="space-y-3"><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-blue-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path></svg></div><div><div class="font-medium text-slate-800">Realtime Database</div><div class="text-sm text-slate-600">リアルタイムでデータ同期（今回使用）</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-green-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div><div><div class="font-medium text-slate-800">Authentication</div><div class="text-sm text-slate-600">ユーザー認証・ログイン機能</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-orange-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></div><div><div class="font-medium text-slate-800">Cloud Storage</div><div class="text-sm text-slate-600">画像・動画ファイルの保存</div></div></div><div class="flex items-start p-3 bg-slate-50 rounded border border-slate-200"><div class="w-6 h-6 text-purple-600 mr-3 mt-0.5"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0 9c-5 0-9-4-9-9m9 9c5 0 9-4 9-9"></path></svg></div><div><div class="font-medium text-slate-800">Hosting</div><div class="text-sm text-slate-600">Webサイトの公開・ホスティング</div></div></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">今回利用するサービス</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">今回は Realtime Database を利用します！</p></div></div></div></div></details>
<!-- -->
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">Firebaseの利用料金</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">Firebaseは <strong class="font-semibold text-slate-900 dark:text-slate-100">Sparkプラン（無料）</strong> と <strong class="font-semibold text-slate-900 dark:text-slate-100">Blazeプラン（従量課金）</strong> の2つの料金体系がある</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="grid md:grid-cols-2 gap-6"><div class="bg-slate-50 rounded p-6 border-2 border-green-200"><div class="flex items-center gap-3 mb-4"><div class="w-8 h-8 bg-green-100 rounded flex items-center justify-center"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div><div><div class="font-bold text-lg text-slate-800">Spark プラン</div><div class="text-green-600 font-semibold">無料</div></div></div><div class="space-y-2 text-sm text-slate-600"><div>• <strong>Realtime Database:</strong> 1GB ストレージ、10GB/月 ダウンロード</div><div>• <strong>同時接続:</strong> 200K per database</div><div>• <strong>Authentication:</strong> 無制限（電話認証は除く）</div><div>• <strong>Hosting:</strong> 10GB ストレージ、360MB/日 転送量</div><div>• <strong>Cloud Functions:</strong> 2百万回実行/月</div><div>• <strong>Cloud Storage:</strong> 5GB ストレージ、1GB/日 ダウンロード</div><div>• <strong>Firestore:</strong> 1GiB ストレージ、5万読取/日、2万書込/日</div></div></div><div class="bg-slate-50 rounded p-6 border-2 border-blue-200"><div class="flex items-center gap-3 mb-4"><div class="w-8 h-8 bg-blue-100 rounded flex items-center justify-center"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><div><div class="font-bold text-lg text-slate-800">Blaze プラン</div><div class="text-blue-600 font-semibold">従量課金</div></div></div><div class="space-y-2 text-sm text-slate-600"><div>• <strong>Sparkプランの無料枠</strong> + 超過分の従量課金</div><div>• <strong>Realtime Database:</strong> $5/GB ストレージ、$1/GB ダウンロード</div><div>• <strong>Cloud Functions:</strong> $0.40/百万回実行</div><div>• <strong>Hosting:</strong> $0.026/GB ストレージ、$0.15/GB 転送</div><div>• <strong>Cloud Storage:</strong> $0.026/GB ストレージ、$0.12/GB ダウンロード</div><div>• <strong>新規ユーザー特典:</strong> $300のクレジット付与</div></div></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">学習には無料プランで十分！</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">今回の授業や個人の学習・開発では、<strong class="font-semibold text-slate-900 dark:text-slate-100">Spark プラン（無料）</strong> で十分です！<br/>
<!-- -->小規模なアプリケーションであれば、無料枠内で収まることがほとんどです。</p></div></div></div><div class="my-6 p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-yellow-800 dark:text-yellow-200">最新の利用料金について</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">本資料の価格表は 2025年9月9日時点のものです。<br/>
<!-- -->最新の価格はこちらから確認できます。</p><div class="my-4 p-4 border border-slate-200 dark:border-slate-700 rounded-lg animate-pulse"><div class="flex gap-3"><div class="w-20 h-20 bg-slate-200 dark:bg-slate-700 rounded"></div><div class="flex-1 space-y-2"><div class="h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/3"></div></div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">Firebaseプロジェクトの作成</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-6 p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-yellow-800 dark:text-yellow-200">キャプチャ実施日について</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">本資料のキャプチャは 2025年9月9日時点のものであり、デザインが変更になっている場合があります。<br/>
<!-- -->基本的な操作は大きく変わらないため、異なるデザインでも適宜読み替えて進めてください。</p></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><a class="text-slate-600 dark:text-slate-400 underline underline-offset-2 hover:text-slate-800 dark:hover:text-slate-200 transition-colors" target="_blank" rel="noopener noreferrer" href="https://firebase.google.com/products/realtime-database?hl=ja">Realtime Database</a> にアクセスし、「使ってみる」をクリック</li>
</ul><div class="my-4 p-4 border border-slate-200 dark:border-slate-700 rounded-lg animate-pulse"><div class="flex gap-3"><div class="w-20 h-20 bg-slate-200 dark:bg-slate-700 rounded"></div><div class="flex-1 space-y-2"><div class="h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2"></div><div class="h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/3"></div></div></div></div><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase01.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">「Firebaseプロジェクトを設定して開始」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase02.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">プロジェクト名を入力（例：<code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">my-chat</code>）</li>
<li class="relative ml-2">Firebase の規約に同意</li>
<li class="relative ml-2">デベロッパープログラムへの参加をオフ</li>
<li class="relative ml-2">上記を設定した上で「続行」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase03.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">AIアシスタンスを「オフ」に設定し、「続行」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase04.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">Google Analyticsを「オフ」に設定し、「プロジェクト作成」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase05.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">プロジェクトが作成完了するまで待機</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase06.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">準備が完了したら「続行」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase07.png" class="w-full rounded border border-slate-200"/></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">Realtime Databaseの設定</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">「データベースを作成」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase08.png" class="w-full rounded border border-slate-200"/></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">Realtime Databaseが表示されていない場合</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">左サイドバーの「構築 &gt; Realtime Database」を選択してください</p></div></div></div><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase09.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">ロケーション：「米国」のまま「次へ」</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase10.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">セキュリティルール：「テストモード」を選択し、「有効にする」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase12.png" class="w-full rounded border border-slate-200"/></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-yellow-800 dark:text-yellow-200">テストモードについて</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">テストモードは<strong class="font-semibold text-slate-900 dark:text-slate-100">全てのアクセスを許可する</strong>設定です。学習目的では便利ですが、本番環境では適切なセキュリティルールの設定が必要です。</p></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">Realtime Database が有効になる</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase13.png" class="w-full rounded border border-slate-200"/></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">Webアプリを登録</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">アプリの登録とは？</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">Firebaseでは、1つの<strong class="font-semibold text-slate-900 dark:text-slate-100">プロジェクト</strong>の中に複数の<strong class="font-semibold text-slate-900 dark:text-slate-100">アプリ</strong>を作成できます。</p><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">プロジェクト</strong>: データベースやセキュリティルールなどを共有する大きな枠組み</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">アプリ</strong>: Web、iOS、Androidなど、プラットフォーム別の個別アプリ</li>
</ul><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">例：「チャットサービス」プロジェクトの中に「Webアプリ」「iOSアプリ」「Androidアプリ」を作成し、同じデータベースを共有するといった使い方ができます。</p></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">サイドバーから「プロジェクトの概要」（家のアイコン）をクリック</li>
<li class="relative ml-2">「アプリを追加」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase14.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">Webを選択</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase15.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">アプリのニックネームを入力（例：<code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">chat</code>）</li>
<li class="relative ml-2">「アプリを登録」をクリック</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase16.png" class="w-full rounded border border-slate-200"/></div></div></div></div><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">&lt;script&gt;タグを使用する</code> を選択し、表示されたスクリプトをコピー</li>
</ul><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase17.png" class="w-full rounded border border-slate-200"/></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">再度スクリプトをコピーする場合</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">設定 &gt; プロジェクトの設定</code> を選択し、 <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">マイアプリ &gt; ウェブアプリ</code> から作成したアプリを選択後 SDKの設定と構成で CDN を選択しましょう</p><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase18.png" class="w-full rounded border border-slate-200"/></div></div></div></div><div class="my-6 "><div class="infographic-content"><div class="text-center max-w-2xl"><div class="mb-2"><img src="../../images/js/firebase19.png" class="w-full rounded border border-slate-200"/></div></div></div></div></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">firebaseConfig</code> の設定反映</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">// ★ firebaseConfigを設定する</code> の箇所に <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">firebaseConfig</code> をコピーして貼り付け</li>
</ul><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// ----------------------------
// Firebase のメソッドを事前読み込み
// ----------------------------

// firebaseの初期化メソッドを読み込み
import { initializeApp } from &#x27;https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js&#x27;;
// firebase realtime database で使うことができるメソッドを読み込み
import { getDatabase, ref, push, onChildAdded, remove, onChildRemoved } from &#x27;https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js&#x27;;


// ----------------------------
// Firebase 設定情報読み込み
// ----------------------------

// ★ firebaseConfigを設定する
const firebaseConfig = {
    apiKey: &#x27;xxxxxxx&#x27;,
    authDomain: &#x27;xxxxxxx.firebaseapp.com&#x27;,
    databaseURL: &#x27;https://xxxxxxx-default-rtdb.firebaseio.com&#x27;,
    projectId: &#x27;xxxxxxx&#x27;,
    storageBucket: &#x27;xxxxxxx.firebasestorage.app&#x27;,
    messagingSenderId: &#x27;xxxxxxx&#x27;,
    appId: &#x27;1:xxxxxxx:web:36702df923de45639b3252&#x27;,
};
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">importとは？</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">ES6モジュールの<code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">import</code>文を使ってFirebaseの機能を読み込んでいます。必要な機能だけを選択的に読み込むことで、効率的にライブラリを使用できます。</p></div></div></div><div class="my-6 p-4 rounded-lg border bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-red-800 dark:text-red-200">APIキーの取り扱い注意</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">表示されるAPIキーなどの設定情報は <strong class="font-semibold text-slate-900 dark:text-slate-100">重要な情報</strong> です！<br/>
<!-- -->GitHubなど公開リポジトリにはアップロードしないよう注意してください！!</p></div></div></div></div></details>
<h2 class="text-2xl font-semibold mb-3 mt-12 text-slate-800 dark:text-slate-200">チャットアプリの実装</h2>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">HTMLの基本構造</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-html !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-html">&lt;!doctype html&gt;
&lt;html lang=&quot;ja&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;title&gt;チャットアプリ&lt;/title&gt;
    &lt;!-- CSS読み込み --&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/sample.css&quot; /&gt;
    &lt;!-- jQuery読み込み --&gt;
    &lt;script src=&quot;js/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;main&gt;
    &lt;!-- 入力エリア --&gt;
    &lt;div class=&quot;input-section&quot;&gt;
        &lt;div class=&quot;name-input&quot;&gt;
            &lt;label for=&quot;name&quot;&gt;お名前:&lt;/label&gt;
            &lt;input
                type=&quot;text&quot;
                id=&quot;name&quot;
                placeholder=&quot;あなたの名前を入力してください&quot;
            /&gt;
        &lt;/div&gt;
        &lt;div class=&quot;message-input&quot;&gt;
            &lt;label for=&quot;message&quot;&gt;メッセージ:&lt;/label&gt;
            &lt;textarea
                id=&quot;message&quot;
                placeholder=&quot;メッセージを入力してください&quot;
                rows=&quot;3&quot;
            &gt;&lt;/textarea&gt;
        &lt;/div&gt;
        &lt;ul class=&quot;button-list&quot;&gt;
            &lt;li id=&quot;send-button&quot;&gt;送信&lt;/li&gt;
            &lt;li id=&quot;clear-button&quot;&gt;クリア&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;

    &lt;!-- チャット表示エリア --&gt;
    &lt;div class=&quot;chat-section&quot;&gt;
        &lt;h2&gt;チャット履歴&lt;/h2&gt;
        &lt;div id=&quot;chat-display&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/main&gt;
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">HTMLの構造ポイント</div><div class="text-slate-700 dark:text-slate-300"><ul class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-disc">
<li class="relative ml-2">名前入力フィールド: <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">id=&quot;name&quot;</code></li>
<li class="relative ml-2">メッセージ入力フィールド: <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">id=&quot;message&quot;</code></li>
<li class="relative ml-2">送信ボタン: <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">id=&quot;send-button&quot;</code></li>
<li class="relative ml-2">チャット表示エリア: <code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">id=&quot;chat-display&quot;</code></li>
</ul></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">Firebase初期化とモジュール読み込み</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// import / export が使えるように module モードを利用する
&lt;script type=&quot;module&quot;&gt;

// Firebase のメソッドを事前読み込み
import { initializeApp } from &#x27;https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js&#x27;;
import { getDatabase, ref, push, onChildAdded, remove, onChildRemoved } from &#x27;https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js&#x27;;

// Firebase 設定情報
const firebaseConfig = {
    apiKey: &#x27;xxxxxxx&#x27;,
    authDomain: &#x27;xxxxxxx.firebaseapp.com&#x27;,
    databaseURL: &#x27;https://xxxxxxx-default-rtdb.firebaseio.com&#x27;,
    projectId: &#x27;xxxxxxx&#x27;,
    storageBucket: &#x27;xxxxxxx.firebasestorage.app&#x27;,
    messagingSenderId: &#x27;xxxxxxx&#x27;,
    appId: &#x27;1:xxxxxxx:web:36702df923de45639b3252&#x27;,
};

// Firebase / Firebase Realtime Database の初期化
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const messagesRef = ref(db, &#x27;messages&#x27;);  // &#x27;messages&#x27; パスへの参照を作成
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">モジュールモードの重要性</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">&lt;script type=&quot;module&quot;&gt;</code>を使用することで、ES6のimport/export構文が使用できます。これにより、Firebase SDKを効率的に読み込めます。</p></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">メッセージ送信機能の実装</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// 送信ボタンクリック時の処理
$(&#x27;#send-button&#x27;).on(&#x27;click&#x27;, function () {
    // 入力内容を取得
    const name = $(&#x27;#name&#x27;).val();
    const message = $(&#x27;#message&#x27;).val();

    // メッセージデータを作成
    const messageData = {
        name: name,
        message: message,
        createdAt: new Date().toLocaleString(&#x27;ja-JP&#x27;),
    };

    // messages/{ユニークID} の配下にメッセージデータを送信
    const newMessageRef = push(messagesRef, messageData);
});
</code></pre></div></div><div class="my-6 "><div class="infographic-content"><div class="space-y-3"><div class="flex items-start p-3 bg-blue-50 rounded border border-blue-200"><div class="w-6 h-6 text-blue-600 mr-3 mt-0.5"><div class="text-lg font-bold">1</div></div><div><div class="font-medium text-slate-800">入力値を取得</div><div class="text-sm text-slate-600">name、messageフィールドから値を取得</div></div></div><div class="flex items-start p-3 bg-green-50 rounded border border-green-200"><div class="w-6 h-6 text-green-600 mr-3 mt-0.5"><div class="text-lg font-bold">2</div></div><div><div class="font-medium text-slate-800">メッセージオブジェクト作成</div><div class="text-sm text-slate-600">name、message、createdAtを含むオブジェクトを作成</div></div></div><div class="flex items-start p-3 bg-orange-50 rounded border border-orange-200"><div class="w-6 h-6 text-orange-600 mr-3 mt-0.5"><div class="text-lg font-bold">3</div></div><div><div class="font-medium text-slate-800">Firebaseに送信</div><div class="text-sm text-slate-600">push()でmessagesRefにデータを保存</div></div></div></div></div></div><div class="my-6 p-4 rounded-lg border bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-green-800 dark:text-green-200">push()メソッドの便利さ</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">push(messagesRef, messageData)</code>は一度にデータ追加と参照の作成を行います。自動でユニークIDが生成されるため、データの重複を防げます。</p></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">メッセージ受信・表示機能</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// メッセージ受信イベント
onChildAdded(messagesRef, function (data) {
    const messageData = data.val(); // メッセージデータを取得
    const key = data.key; // ユニークIDを取得
    
    const html = `&lt;p id=&quot;${key}&quot; class=&quot;message-item&quot;&gt;${messageData.name}: ${messageData.message} - ${messageData.createdAt}&lt;/p&gt;`;
    $(&#x27;#chat-display&#x27;).append(html); // #chat-display の最後に追加
});
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">onChildAddedの動作</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">onChildAdded</code>は以下の2つのタイミングで実行されます：</p><ol class="mb-4 space-y-1 text-slate-700 dark:text-slate-300 pl-6 list-decimal">
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">初回読み込み時</strong>: 既存の全メッセージを順次取得</li>
<li class="relative ml-2"><strong class="font-semibold text-slate-900 dark:text-slate-100">新しいメッセージ追加時</strong>: リアルタイムで新着メッセージを受信</li>
</ol><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">これにより、ページを開いた瞬間に過去のメッセージが表示され、その後も新しいメッセージがリアルタイムで追加されます。</p></div></div></div></div></details>
<details class="rounded-lg border border-slate-200 dark:border-slate-700 px-4 py-4 my-4 hover:shadow transition outline-none focus:ring-0 focus:outline-none"><summary class="cursor-pointer select-none text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100 font-bold">発展: メッセージ削除機能の実装</summary><div class="mt-6 text-slate-600 dark:text-slate-400"><div><div class="group relative my-4 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700"><button class="absolute right-2 top-2 rounded bg-slate-800/70 px-2 py-1 text-xs text-white opacity-0 transition-opacity group-hover:opacity-100 z-10">コピー</button><pre class="language-javascript !m-0 !p-4 !bg-slate-900 dark:!bg-slate-950 !text-slate-100 overflow-x-auto"><code class="language-javascript">// メッセージ削除ボタンクリック時の処理
$(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;.message-item&#x27;, function () {
    const isDelete = confirm(&#x27;メッセージを削除しますか？&#x27;);
    // はいがクリックされた場合
    if (isDelete) {
        const key = $(this).attr(&#x27;id&#x27;); // クリックされた要素自体のid名（ユニークID）を取得
        const targetMessageRef = ref(db, `messages/${key}`); // 削除対象のメッセージ参照を取得
        remove(targetMessageRef); // メッセージを削除
    }
});

// メッセージ削除時の処理
onChildRemoved(messagesRef, function (data) {
    const key = data.key; // ユニークIDを取得
    $(`#${key}`).remove(); // メッセージの表示を削除
});
</code></pre></div></div><div class="my-6 p-4 rounded-lg border bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-blue-800 dark:text-blue-200">イベント委譲の活用</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed"><code class="inline-block px-1.5 py-0.5 mx-0.5 text-sm font-mono bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded border border-slate-200 dark:border-slate-700">$(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;.message-item&#x27;, function () {...})</code>は<strong class="font-semibold text-slate-900 dark:text-slate-100">イベント委譲</strong>という手法です。動的に追加される要素（メッセージ）に対してもクリックイベントが適用されます。</p></div></div></div><div class="my-6 p-4 rounded-lg border bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 flex gap-3"><div class="flex-shrink-0"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class="flex-1 min-w-0"><div class="font-semibold mb-1 text-yellow-800 dark:text-yellow-200">削除機能の注意点</div><div class="text-slate-700 dark:text-slate-300"><p class="my-2 text-slate-700 dark:text-slate-300 leading-relaxed">この実装では誰でも他人のメッセージを削除できてしまいます。実際のアプリでは、メッセージの作成者のみが削除できるような制御が必要です。</p></div></div></div></div></details></div><div></div></div></main></div></div><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", null)</script><script>window.__reactRouterContext = {"basename":"/gs-textbook-php","future":{"unstable_middleware":false,"unstable_optimizeDeps":false,"unstable_splitRouteModules":false,"unstable_subResourceIntegrity":false,"unstable_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/gs-textbook-php/assets/manifest-94717049.js";
import * as route0 from "/gs-textbook-php/assets/root-ChSc94-u.js";
import * as route1 from "/gs-textbook-php/assets/lessons._slug-0zrPKnYr.js";
  
  window.__reactRouterRouteModules = {"root":route0,"routes/lessons.$slug":route1};

import("/gs-textbook-php/assets/entry.client-DtWayQEr.js");</script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script><!--$?--><template id="B:0"></template><!--/$--><div hidden id="S:0"><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_3\":-5,\"_4\":-5},\"loaderData\",{},\"actionData\",\"errors\"]\n");</script><!--$?--><template id="B:1"></template><!--/$--></div><script>$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><script>window.__reactRouterContext.streamController.close();</script></div><script>$RC("B:1","S:1")</script></body></html>